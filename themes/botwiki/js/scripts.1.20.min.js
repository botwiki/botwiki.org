"strict";function ready(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}window.smoothScroll=function(){if(void 0!==document.querySelectorAll&&void 0!==window.pageYOffset&&void 0!==history.pushState){var e=function(e){return"HTML"===e.nodeName?-window.pageYOffset:e.getBoundingClientRect().top+window.pageYOffset},t=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},n=function(e,n,o,r){return o>r?n:e+(n-e)*t(o/r)},o=function(t,o,r){o=o||500;var a,i=window.pageYOffset;a="number"==typeof t?parseInt(t):e(t)-100;var c=Date.now(),l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)},s=function(){var e=Date.now()-c;window.scroll(0,n(i,a,e,o)),e>o?"function"==typeof r&&r(t):l(s)};s()},r=function(e){e.preventDefault();var t=this.hash.substring(1);window.history&&window.history.pushState&&history.pushState(null,null,"#"+t),o(document.getElementById(t),500,function(e){})};return document.addEventListener("DOMContentLoaded",function(){for(var e,t=document.querySelectorAll('a[href^="#"]'),n=t.length;e=t[--n];)e.addEventListener("click",r,!1)}),o}}(),ready(function(){document.getElementById("search-help").addEventListener("click",function(e){return e.preventDefault(),alert("Search quick help:\n\nTAGS: tag1 tag2 tag3 ...\t\tSearch several tags\n\nword1 AND word2 AND ...\t\tSearch posts that have all listed words\n\nword1 OR word2 OR ...\t\tSearch posts that have at least one of the listed words (default)"),!1},!1);try{hljs.initHighlightingOnLoad()}catch(e){}window.location.hash&&smoothScroll(document.getElementById(window.location.hash.substring(1)),200,function(e){});for(var t,n=document.querySelectorAll(".back-to-top"),o=n.length;t=n[--o];)t.addEventListener("click",function(e){e.preventDefault(),smoothScroll(0,500)},!1);for(var r=document.querySelectorAll("article img"),o=0,a=r.length;o<a;o++)r[o].dataset.src=r[o].src,r[o].classList.add("lazy-load");var i=document.getElementsByClassName("search-text-after-image");i.length&&i.classList.remove("search-text-after-image").classList.add("search-text")}),function(){function e(e){var t=0;if(e.offsetParent){do t+=e.offsetTop;while(e=e.offsetParent);return t}}var t=window.addEventListener||function(e,t){window.attachEvent("on"+e,t)},n=window.removeEventListener||function(e,t,n){window.detachEvent("on"+e,t)},o={cache:[],mobileScreenSize:500,addObservers:function(){t("scroll",o.throttledLoad),t("resize",o.throttledLoad)},removeObservers:function(){n("scroll",o.throttledLoad,!1),n("resize",o.throttledLoad,!1)},throttleTimer:(new Date).getTime(),throttledLoad:function(){var e=(new Date).getTime();e-o.throttleTimer>=200&&(o.throttleTimer=e,o.loadVisibleImages())},loadVisibleImages:function(){for(var t=window.pageYOffset||document.documentElement.scrollTop,n=window.innerHeight||document.documentElement.clientHeight,r={min:t-200,max:t+n+200},a=0;a<o.cache.length;){var i=o.cache[a],c=e(i),l=i.height||0;if(c>=r.min-l&&c<=r.max){var s=i.getAttribute("data-src-mobile");i.className=i.className.replace(/(^|\s+)lazy-load(\s+|$)/,"$1lazy-loaded$2"),s&&screen.width<=o.mobileScreenSize?i.src=s:i.src=i.getAttribute("data-src"),i.removeAttribute("data-src"),i.removeAttribute("data-src-mobile"),o.cache.splice(a,1)}else a++}0===o.cache.length&&o.removeObservers()},init:function(){document.querySelectorAll||(document.querySelectorAll=function(e){var t=document,n=t.documentElement.firstChild,o=t.createElement("STYLE");return n.appendChild(o),t.__qsaels=[],o.styleSheet.cssText=e+"{x:expression(document.__qsaels.push(this))}",window.scrollBy(0,0),t.__qsaels}),t("load",function e(){for(var t=document.querySelectorAll("img[data-src]"),r=0;r<t.length;r++){var a=t[r];o.cache.push(a)}o.addObservers(),o.loadVisibleImages(),n("load",e,!1)})}};o.init()}();